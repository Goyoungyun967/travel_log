<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="kr.co.iei.member.model.dao.MemberDao">
 	<select id="checkId" resultType="int">
 		select count(*) from member where member_id=#{memberId}
 	</select>
 	
 	<insert id="insertMember">
 		insert into member values(member_seq.nextval,#{memberId},#{memberPw},#{memberAge},#{memberGender},#{memberPhone},#{memberAddr},#{memberEmail},sysdate,2,#{memberNickname},#{memberImage})
 	</insert>
 	
 	<select id="selectLoginMember" resultType="member">
 		select member_no,member_pw,member_nickname,member_level from member where member_id=#{memberId}
 	</select>
 	<select id="selectOneMember" resultType="member">
 		select * from member where member_no=#{memberNo}
 	</select>
 	
 	<select id="checkSellerId" resultType="int">
 		select count(*) from seller where business_no=#{businessNo}
 	</select>
 	

 	<update id="updateProfile">
 		UPDATE member SET member_image = #{memberImage} WHERE member_no = #{memberNo}
 	</update>

	<select id="getMemberId" resultType="String">
		select member_id from member where member_no = #{loginNo}
	</select>
	<select id="selectOneUser" resultType="member">
		select * from member where member_no = #{memberNo}
	</select>
	
	<update id="updateMember">
		update member set member_nickname=#{memberNickname}, member_phone=#{memberPhone} where member_no=#{memberNo}
	</update>
	
	<update id="changePw">
	update member set member_pw=#{memberPw} where member_no=#{memberNo}
	</update>
</mapper>
